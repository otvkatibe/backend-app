[32minfo[39m: Redis connected successfully {"timestamp":"2026-01-13T05:00:24.931Z"}
  console.log
    [DEBUG] HealthService checkRedis

      at HealthService.checkRedis (src/services/health.service.ts:17:21)

  console.log
    [DEBUG] Client Status: ready

      at HealthService.checkRedis (src/services/health.service.ts:18:21)

  console.log
    [DEBUG] Is Mock check failed

      at HealthService.checkRedis (src/services/health.service.ts:21:35)

  console.log
    [DEBUG] Error: TypeError: client.ping is not a function
        at HealthService.checkRedis (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\src\services\health.service.ts:24:39)
        at HealthController.check (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\src\controllers\health.controller.ts:15:36)
        at Layer.handleRequest (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\lib\layer.js:152:17)
        at next (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\lib\route.js:157:13)
        at Route.dispatch (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\lib\route.js:117:3)
        at handle (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:435:11)
        at Layer.handleRequest (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\lib\layer.js:152:17)
        at C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:295:15
        at processParams (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:582:12)
        at next (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:291:5)
        at C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\tests\setup.ts:43:59
        at Layer.handleRequest (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:342:13)
        at C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:297:9
        at processParams (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:582:12)
        at next (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:291:5)
        at requestLogger (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\src\middlewares\requestLogger.ts:25:5)
        at Layer.handleRequest (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:342:13)
        at C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:297:9
        at processParams (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:582:12)
        at next (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:291:5)
        at requestId (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\src\middlewares\requestId.ts:8:5)
        at Layer.handleRequest (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:342:13)
        at C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:297:9
        at processParams (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:582:12)
        at next (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:291:5)
        at read (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\body-parser\lib\read.js:53:5)
        at urlencodedParser (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\body-parser\lib\types\urlencoded.js:57:5)
        at Layer.handleRequest (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:342:13)
        at C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:297:9
        at processParams (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:582:12)
        at next (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:291:5)
        at read (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\body-parser\lib\read.js:53:5)
        at jsonParser (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\body-parser\lib\types\json.js:88:5)
        at Layer.handleRequest (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:342:13)
        at C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:297:9
        at processParams (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:582:12)
        at next (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:291:5)
        at cors (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\cors\lib\index.js:188:7)
        at C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\cors\lib\index.js:224:17
        at origin (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\src\app.ts:31:29)
        at C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\cors\lib\index.js:219:13
        at optionsCallback (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\cors\lib\index.js:199:9)
        at corsMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\cors\lib\index.js:204:7)
        at Layer.handleRequest (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:342:13)
        at C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:297:9
        at processParams (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:582:12)
        at next (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:291:5)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:531:6)
        at xXssProtectionMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:311:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at xPoweredByMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:304:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at xPermittedCrossDomainPoliciesMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:297:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at xFrameOptionsMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:281:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at xDownloadOptionsMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:261:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at xDnsPrefetchControlMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:254:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at xContentTypeOptionsMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:246:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at strictTransportSecurityMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:239:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at referrerPolicyMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:207:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at originAgentClusterMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:182:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at crossOriginResourcePolicyMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:175:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at crossOriginOpenerPolicyMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:159:3)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at contentSecurityPolicyMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:124:4)
        at internalNext (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:529:6)
        at helmetMiddleware (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\helmet\index.cjs:533:6)
        at Layer.handleRequest (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:342:13)
        at C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:297:9
        at processParams (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:582:12)
        at next (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:291:5)
        at Function.handle (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\router\index.js:186:3)
        at Function.handle (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\express\lib\application.js:177:15)
        at Server.app (C:\Users\otavi\OneDrive\├ürea de Trabalho\Faculdade\meu-projeto\projetos-typescript\backend-app\node_modules\express\lib\express.js:38:9)
        at Server.emit (node:events:518:28)
        at Server.emit (node:domain:489:12)
        at parserOnIncoming (node:_http_server:1153:12)
        at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)

      at HealthService.checkRedis (src/services/health.service.ts:28:21)

[33mwarn[39m: Request failed {"duration":"1053ms","ip":"::ffff:127.0.0.1","method":"GET","requestId":"365a8c14-6d3d-4938-baa5-b1dd0dcf69e5","status":503,"timestamp":"2026-01-13T05:00:26.437Z","url":"/health"}
  console.log
    HEALTH CHECK RESPONSE: {
      "status": "DOWN",
      "timestamp": "2026-01-13T05:00:26.434Z",
      "services": {
        "database": "UP",
        "redis": "DOWN"
      }
    }

      at Object.<anonymous> (tests/e2e/health.test.ts:20:17)

